# CLI Rearchitect Review Fixes

---
[2026-02-04T22:02:46.771Z]
Completed: Extract shared Front client helpers to front/client.ts
Files: none
Summary: **Summary**
- Added `packages/cli/src/commands/front/client.ts` with shared `requireFrontToken`, `getFrontClient`, and `normalizeId`.
- Updated all Front command files to import shared helpers and removed local copies, including type updates where needed.
- Added unit tests in `packages/cli/tests/unit/commands/front/client.test.ts`.
- Appended progress entry in `packages/cli/PROGRESS.md`.

**Tests

---
[2026-02-04T22:11:27.180Z]
Completed: Implement MCP Server Mode (Phase 4 redo)
Files: none
Summary: **Summary**
- Added MCP JSON-RPC stdio server plus tool registry/bridge in `packages/cli/src/mcp/server.ts` and `packages/cli/src/mcp/tools.ts`.
- Wired `skill mcp` command in `packages/cli/src/index.ts` and added unit coverage in `packages/cli/tests/unit/mcp/server.test.ts` and `packages/cli/tests/unit/mcp/tools.test.ts`.
- Appended the requested progress entry in `packages/cli/PROGRESS.md`.

**T

---
[2026-02-04T22:13:30.353Z]
Completed: CSV injection sanitization in list-output.ts
Files: none
Summary: **Summary**
- Added CSV formula-injection sanitization for string values and exported `toCsvCell` for testability. (`packages/cli/src/core/list-output.ts`)
- Added unit coverage for formula prefixes, quoting, and null handling. (`packages/cli/tests/unit/core/list-output.test.ts`)
- Logged progress entry. (`packages/cli/PROGRESS.md`)

**Tests**
- `cd packages/cli && bun run check-types`
- `cd packa
